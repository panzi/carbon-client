<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>CarbonClient | Carbon Client</title><meta name="description" content="Documentation for Carbon Client"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script async src="../assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">Carbon Client</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><ul class="tsd-breadcrumb"><li><a href="../modules.html">Carbon Client</a></li><li><a href="CarbonClient.html">CarbonClient</a></li></ul><h1>Class CarbonClient</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><div class="lead">
<p>Implementing of the <a href="https://graphiteapp.org/">graphite</a> <a href="https://github.com/graphite-project/carbon">carbon</a>
<a href="https://graphite.readthedocs.io/en/latest/feeding-carbon.html#the-plaintext-protocol">plain text protocol</a>.</p>
</div><div>
<a href="#allowed-names-and-values" id="allowed-names-and-values" style="color: inherit; text-decoration: none;">
  <h4>Allowed Names and Values</h4>
</a>
<p>This graphite carbon protocol implementation is a bit strict about the characters
allowed in metric paths, tag names, and tag values just to be safe. The plain text
protocol documentation itself isn&#39;t extremely precise and doesn&#39;t mention any
allowed or disallowed characters or encoding schemes. Given the protocol just
consists of lines in the form of <code>&lt;metric path&gt; &lt;metric value&gt; &lt;metric timestamp&gt;</code>
it is clear that the path may not contain any whitespace. Also since the tags are
just appended to the path name using <code>;</code> as a delimiter between the path and the
tags and <code>=</code> between tag name and value these characters can clearly also no occur
in path names. Further the whisper server seems to store metric on the filesystem
by splitting it on <code>.</code> and creating a filesystem hierarchy based on the split
path comonents. That means paths better not contain any characters not allowed
in file names of any common operating systems. Also no double-<code>.</code>, leading-<code>.</code>
or trailing-<code>.</code>. For tags there are also certain limitations around the <code>~</code>
character.</p>
<p>Therefore this library only allows paths and tag names in this schema:</p>
<pre><code class="language-shell"><span class="hl-1">path           = path-component (</span><span class="hl-4">&#39;.&#39;</span><span class="hl-1"> path-component)*</span><br/><span class="hl-1">path-component = (letter | digit | </span><span class="hl-4">&#39;-&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;+&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;@&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;$&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;_&#39;</span><span class="hl-1"> | hex-encoding)+</span><br/><br/><span class="hl-1">prefix         = path </span><span class="hl-4">&#39;.&#39;</span><span class="hl-1">?</span><br/><br/><span class="hl-1">tag-name       = path</span><br/><br/><span class="hl-1">tag-value      = (letter | digit | </span><span class="hl-4">&#39;-&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;+&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;@&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;$&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;_&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;.&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;*&#39;</span><br/><span class="hl-1">                 | </span><span class="hl-4">&#39;:&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;,&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;&amp;&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;#&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;|&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;&lt;&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;&gt;&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;[&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;]&#39;</span><br/><span class="hl-1">                 | </span><span class="hl-4">&#39;(&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;)&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;{&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;}&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;=&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;!&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;?&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;^&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;/&#39;</span><br/><span class="hl-1">                 | </span><span class="hl-4">&#39;\&#39;</span><span class="hl-1"> | hex-encoding)+</span><br/><br/><span class="hl-1">hex-encoding   = </span><span class="hl-4">&#39;%&#39;</span><span class="hl-1"> hex-digit hex-digit</span><br/><span class="hl-1">letter         = </span><span class="hl-4">&#39;a&#39;</span><span class="hl-1"> ... </span><span class="hl-4">&#39;z&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;A&#39;</span><span class="hl-1"> ... </span><span class="hl-4">&#39;Z&#39;</span><br/><span class="hl-1">digit          = </span><span class="hl-4">&#39;0&#39;</span><span class="hl-1"> ... </span><span class="hl-4">&#39;9&#39;</span><br/><span class="hl-1">hex-digit      = </span><span class="hl-4">&#39;0&#39;</span><span class="hl-1"> ... </span><span class="hl-4">&#39;9&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;a&#39;</span><span class="hl-1"> ... </span><span class="hl-4">&#39;f&#39;</span><span class="hl-1"> | </span><span class="hl-4">&#39;A&#39;</span><span class="hl-1"> ... </span><span class="hl-4">&#39;F&#39;</span>
</code></pre>
<p>Note that tag values may not be empty.</p>
<p>The <code>hex-encoding</code> is meant as a convention. If you really have to use metric
paths or tag names with other characters you can pass them through
<code>encodeURIComponent()</code>. Note that you have to also do the reverse
(<code>decodeURIComponent()</code>) when reading back metric paths, tag names and values.</p>
<p>Note that if the whisper server would really run on Windows (don&#39;t know if it ever
does) there are also problems with case-insensitivity (also true for macOS) and
for certain special file names: <code>COM1</code> <code>COM2</code> <code>COM3</code> <code>COM4</code> <code>COM5</code> <code>COM6</code> <code>COM7</code>
<code>COM8</code> <code>COM9</code> <code>LPT1</code> <code>LPT2</code> <code>LPT3</code> <code>LPT4</code> <code>LPT5</code> <code>LPT6</code> <code>LPT7</code> <code>LPT8</code> <code>LPT9</code> <code>CON</code>
<code>NUL</code> <code>PRN</code></p>
<p>Also the tag name <code>name</code> is used to store the metric path.</p>
<p>This library does not take care of these cases.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="https://graphite.readthedocs.io/en/latest/feeding-carbon.html#the-plaintext-protocol">Plain Text Protocol</a></p>
</dd><dt>see</dt><dd><p><a href="https://graphite.readthedocs.io/en/latest/tags.html#carbon">Tags</a></p>
</dd></dl></div></section><section class="tsd-panel tsd-hierarchy"><h3>Hierarchy</h3><ul class="tsd-hierarchy"><li><span class="target">CarbonClient</span></li></ul></section><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Constructors</h3><ul class="tsd-index-list"><li class="tsd-kind-constructor tsd-parent-kind-class"><a href="CarbonClient.html#constructor" class="tsd-kind-icon">constructor</a></li></ul></section><section class="tsd-index-section "><h3>Properties</h3><ul class="tsd-index-list"><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#address" class="tsd-kind-icon">address</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#autoConnect" class="tsd-kind-icon">auto<wbr/>Connect</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#family" class="tsd-kind-icon">family</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#port" class="tsd-kind-icon">port</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#prefix" class="tsd-kind-icon">prefix</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#retryOnError" class="tsd-kind-icon">retry<wbr/>On<wbr/>Error</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#retryTimeout" class="tsd-kind-icon">retry<wbr/>Timeout</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#sendBufferSize" class="tsd-kind-icon">send<wbr/>Buffer<wbr/>Size</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#sendInterval" class="tsd-kind-icon">send<wbr/>Interval</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#transport" class="tsd-kind-icon">transport</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#udpSendBufferSize" class="tsd-kind-icon">udp<wbr/>Send<wbr/>Buffer<wbr/>Size</a></li></ul></section><section class="tsd-index-section "><h3>Accessors</h3><ul class="tsd-index-list"><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="CarbonClient.html#bufferedBytes" class="tsd-kind-icon">buffered<wbr/>Bytes</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="CarbonClient.html#isBuffered" class="tsd-kind-icon">is<wbr/>Buffered</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="CarbonClient.html#isConnected" class="tsd-kind-icon">is<wbr/>Connected</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="CarbonClient.html#isConnecting" class="tsd-kind-icon">is<wbr/>Connecting</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="CarbonClient.html#isDisconnected" class="tsd-kind-icon">is<wbr/>Disconnected</a></li></ul></section><section class="tsd-index-section "><h3>Methods</h3><ul class="tsd-index-list"><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#batchWrite" class="tsd-kind-icon">batch<wbr/>Write</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#connect" class="tsd-kind-icon">connect</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#disconnect" class="tsd-kind-icon">disconnect</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#flush" class="tsd-kind-icon">flush</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#off" class="tsd-kind-icon">off</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#on" class="tsd-kind-icon">on</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#once" class="tsd-kind-icon">once</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#vbatchWrite" class="tsd-kind-icon">vbatch<wbr/>Write</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#vwrite" class="tsd-kind-icon">vwrite</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#write" class="tsd-kind-icon">write</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Constructors</h2><section class="tsd-panel tsd-member tsd-kind-constructor tsd-parent-kind-class"><a id="constructor" class="tsd-anchor"></a><h3 class="tsd-anchor-link">constructor<a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-constructor tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">new <wbr/>Carbon<wbr/>Client<span class="tsd-signature-symbol">(</span>address<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, port<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span>, transport<span class="tsd-signature-symbol">?: </span><a href="../modules.html#IPTransport" class="tsd-signature-type" data-tsd-kind="Type alias">IPTransport</a>, autoConnect<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="CarbonClient.html" class="tsd-signature-type" data-tsd-kind="Class">CarbonClient</a></li><li class="tsd-signature tsd-kind-icon">new <wbr/>Carbon<wbr/>Client<span class="tsd-signature-symbol">(</span>path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, transport<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;IPC&quot;</span>, autoConnect<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="CarbonClient.html" class="tsd-signature-type" data-tsd-kind="Class">CarbonClient</a></li><li class="tsd-signature tsd-kind-icon">new <wbr/>Carbon<wbr/>Client<span class="tsd-signature-symbol">(</span>options<span class="tsd-signature-symbol">: </span><a href="../interfaces/CarbonClientOptions.html" class="tsd-signature-type" data-tsd-kind="Interface">CarbonClientOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="CarbonClient.html" class="tsd-signature-type" data-tsd-kind="Class">CarbonClient</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L396">src/index.ts:396</a></li></ul></aside><div class="tsd-comment tsd-typography"><dl class="tsd-comment-tags"><dt>throws</dt><dd><p><a href="IllegalArgument.html">IllegalArgument</a></p>
</dd><dt>throws</dt><dd><p><code>TypeError</code></p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>address: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>hostname or IP address of carbon server</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> port: <span class="tsd-signature-type">number</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>port of carbon server, <a href="../modules.html#DEFAULT_PORT">DEFAULT_PORT</a> if not given</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> transport: <a href="../modules.html#IPTransport" class="tsd-signature-type" data-tsd-kind="Type alias">IPTransport</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>transport layer protocol to use, <a href="../modules.html#DEFAULT_TRANSPORT">DEFAULT_TRANSPORT</a> if not given</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> autoConnect: <span class="tsd-signature-type">boolean</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>automatically connect on write if not connected, <code>false</code> if not given</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="CarbonClient.html" class="tsd-signature-type" data-tsd-kind="Class">CarbonClient</a></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L407">src/index.ts:407</a></li></ul></aside><div class="tsd-comment tsd-typography"><dl class="tsd-comment-tags"><dt>throws</dt><dd><p><a href="IllegalArgument.html">IllegalArgument</a></p>
</dd><dt>throws</dt><dd><p><code>TypeError</code></p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>path: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>path of Unix domain socket</p>
</div></div></li><li><h5>transport: <span class="tsd-signature-type">&quot;IPC&quot;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>always <code>&#39;IPC&#39;</code></p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> autoConnect: <span class="tsd-signature-type">boolean</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>automatically connect on write if not connected, <code>false</code> if not given</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="CarbonClient.html" class="tsd-signature-type" data-tsd-kind="Class">CarbonClient</a></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L409">src/index.ts:409</a></li></ul></aside><div class="tsd-comment tsd-typography"><dl class="tsd-comment-tags"><dt>throws</dt><dd><p><a href="IllegalArgument.html">IllegalArgument</a></p>
</dd><dt>throws</dt><dd><p><code>TypeError</code></p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>options: <a href="../interfaces/CarbonClientOptions.html" class="tsd-signature-type" data-tsd-kind="Interface">CarbonClientOptions</a></h5></li></ul><h4 class="tsd-returns-title">Returns <a href="CarbonClient.html" class="tsd-signature-type" data-tsd-kind="Class">CarbonClient</a></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group "><h2>Properties</h2><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="address" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagReadonly">Readonly</span> address<a href="#address" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">address<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L304">src/index.ts:304</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>For TCP and UDP the hostname or IP address of the server, for
IPC the file name of the Unix domain socket.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="autoConnect" class="tsd-anchor"></a><h3 class="tsd-anchor-link">auto<wbr/>Connect<a href="#autoConnect" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">auto<wbr/>Connect<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L355">src/index.ts:355</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Automatically connect on write if not connected.</p>
</div><div><p>Also if <code>ture</code> then calls of <a href="CarbonClient.html#connect">CarbonClient.connect</a> when connected and
calls of <a href="CarbonClient.html#disconnect">CarbonClient.disconnect</a> when not connected are not errors.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="family" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> <span class="tsd-flag ts-flagReadonly">Readonly</span> family<a href="#family" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">family<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">4</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">6</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L342">src/index.ts:342</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>For TCP and UDP the IP address family to use.</p>
</div><div><p>If not given it will be auto-detected. For UDP if there are IPv6 and IPv4
addresses of a hostname the IPv6 address will be preferred. Explicitely
pass <code>4</code> if you do not want this.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="port" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagReadonly">Readonly</span> port<a href="#port" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">port<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L309">src/index.ts:309</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Server port to connect to. Will be <code>-1</code> if <a href="CarbonClient.html#transport">CarbonClient.transport</a> is <code>&#39;IPC&#39;</code>.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="prefix" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagReadonly">Readonly</span> prefix<a href="#prefix" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">prefix<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> = &#39;&#39;</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L347">src/index.ts:347</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Prefix added to all metric paths.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="retryOnError" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagReadonly">Readonly</span> retry<wbr/>On<wbr/>Error<a href="#retryOnError" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">retry<wbr/>On<wbr/>Error<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = 0</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L364">src/index.ts:364</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Number of automatic retries on network error. Defaults to <code>0</code>.</p>
</div><div><p>Error handlers are still called.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="CarbonClient.html#retryTimeout">CarbonClient.retryTimeout</a></p>
</dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="retryTimeout" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagReadonly">Readonly</span> retry<wbr/>Timeout<a href="#retryTimeout" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">retry<wbr/>Timeout<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = DEFAULT_RETRY_TIMEOUT</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L371">src/index.ts:371</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Time to wait before retrying after error. Defaults to <a href="../modules.html#DEFAULT_RETRY_TIMEOUT">DEFAULT_RETRY_TIMEOUT</a>.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="CarbonClient.html#retryOnError">CarbonClient.retryOnError</a></p>
</dd></dl></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="sendBufferSize" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagReadonly">Readonly</span> send<wbr/>Buffer<wbr/>Size<a href="#sendBufferSize" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">send<wbr/>Buffer<wbr/>Size<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = DEFAULT_SEND_BUFFER_SIZE</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L327">src/index.ts:327</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Size of send buffer. If set to <code>0</code> metrics are sent immediately.
Defaults to <a href="../modules.html#DEFAULT_SEND_BUFFER_SIZE">DEFAULT_SEND_BUFFER_SIZE</a>.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="sendInterval" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagReadonly">Readonly</span> send<wbr/>Interval<a href="#sendInterval" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">send<wbr/>Interval<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = DEFAULT_SEND_INTERVAL</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L333">src/index.ts:333</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Buffer wait time. If set to <code>0</code> metrics are sent immediately.
Defaults to <a href="../modules.html#DEFAULT_SEND_INTERVAL">DEFAULT_SEND_INTERVAL</a>.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="transport" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagReadonly">Readonly</span> transport<a href="#transport" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">transport<span class="tsd-signature-symbol">:</span> <a href="../modules.html#Transport" class="tsd-signature-type" data-tsd-kind="Type alias">Transport</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L314">src/index.ts:314</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Transport layer protocol to use.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-property tsd-parent-kind-class"><a id="udpSendBufferSize" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span class="tsd-flag ts-flagOptional">Optional</span> <span class="tsd-flag ts-flagReadonly">Readonly</span> udp<wbr/>Send<wbr/>Buffer<wbr/>Size<a href="#udpSendBufferSize" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">udp<wbr/>Send<wbr/>Buffer<wbr/>Size<span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L321">src/index.ts:321</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>If <a href="CarbonClient.html#transport">CarbonClient.transport</a> is <code>&quot;UDP&quot;</code> the
<a href="https://nodejs.org/dist/latest-v16.x/docs/api/dgram.html#dgramcreatesocketoptions-callback">dgram.SocketOptions.sendBufferSize</a>
of UDP sockets.</p>
</div></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Accessors</h2><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class"><a id="bufferedBytes" class="tsd-anchor"></a><h3 class="tsd-anchor-link">buffered<wbr/>Bytes<a href="#bufferedBytes" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> bufferedBytes<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L746">src/index.ts:746</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns the number of currently buffered bytes.</p>
</div><div><p>If <a href="CarbonClient.html#isBuffered">CarbonClient.isBuffered</a> is <code>false</code> this is always <code>0</code>.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class"><a id="isBuffered" class="tsd-anchor"></a><h3 class="tsd-anchor-link">is<wbr/>Buffered<a href="#isBuffered" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> isBuffered<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L737">src/index.ts:737</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns true if the client bufferes multiple writes into one send.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="CarbonClient.html#sendBufferSize">CarbonClient.sendBufferSize</a> and <a href="CarbonClient.html#sendInterval">CarbonClient.sendInterval</a>.</p>
</dd></dl></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class"><a id="isConnected" class="tsd-anchor"></a><h3 class="tsd-anchor-link">is<wbr/>Connected<a href="#isConnected" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> isConnected<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L693">src/index.ts:693</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns true if the underlying socket was created, is writeable and not connecting.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class"><a id="isConnecting" class="tsd-anchor"></a><h3 class="tsd-anchor-link">is<wbr/>Connecting<a href="#isConnecting" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> isConnecting<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L705">src/index.ts:705</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns true if the underlying socket was created and is connecting or if
the client is in the process of retrying to connect.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-get-signature tsd-parent-kind-class"><a id="isDisconnected" class="tsd-anchor"></a><h3 class="tsd-anchor-link">is<wbr/>Disconnected<a href="#isDisconnected" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-get-signature tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">get</span> isDisconnected<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L721">src/index.ts:721</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Returns true if the socket is destroyed, or if it is not yet created and
not in the process of connecting.</p>
</div></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4></li></ul></section></section><section class="tsd-panel-group tsd-member-group "><h2>Methods</h2><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="batchWrite" class="tsd-anchor"></a><h3 class="tsd-anchor-link">batch<wbr/>Write<a href="#batchWrite" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">batch<wbr/>Write<span class="tsd-signature-symbol">(</span>batch<span class="tsd-signature-symbol">: </span><a href="../modules.html#MetricMap" class="tsd-signature-type" data-tsd-kind="Type alias">MetricMap</a><span class="tsd-signature-symbol"> | </span><a href="../modules.html#MetricTuple" class="tsd-signature-type" data-tsd-kind="Type alias">MetricTuple</a><span class="tsd-signature-symbol">[]</span>, timestamp<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Date</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L1307">src/index.ts:1307</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Batch send multiple metrics all at once.</p>
</div><div><p>If you use UDP keep batch sizes small enough to fit into one UDP packet!</p>
<p>If <code>timestamp</code> is not provided the current time (via <code>Date.now()</code>) will be used.</p>
<p><strong>NOTE:</strong> If <a href="CarbonClient.html#sendBufferSize">CarbonClient.sendBufferSize</a> is <code>&gt; 0</code> then any error (except for
<a href="IllegalArgument.html">IllegalArgument</a>) might not happen during <code>await</code> of the returned Promise, but
will only dispatched to any registered error handlers. See: <a href="CarbonClient.html#on">CarbonClient.on</a></p>
<p>Also note that if the sent data doesn&#39;t fit into the buffer, this will issue a
send immediately and any promise rejections of that send <em>will</em> be directly returned
when <code>await</code>ing the returned Promise.</p>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p><a href="IllegalArgument.html">IllegalArgument</a> if a path, a timestamp, a tag-name, or a tag-value is invalid.</p>
</dd><dt>throws</dt><dd><p><code>Error</code> based on the errors that can be thrown by the underlying used NodeJS APIs.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>batch: <a href="../modules.html#MetricMap" class="tsd-signature-type" data-tsd-kind="Type alias">MetricMap</a><span class="tsd-signature-symbol"> | </span><a href="../modules.html#MetricTuple" class="tsd-signature-type" data-tsd-kind="Type alias">MetricTuple</a><span class="tsd-signature-symbol">[]</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The metrics to write.</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> timestamp: <span class="tsd-signature-type">Date</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The timestamp to use for metrics that don&#39;t define it directly.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>Promise that resolves when the metric is sent.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="connect" class="tsd-anchor"></a><h3 class="tsd-anchor-link">connect<a href="#connect" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">connect<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">connect<span class="tsd-signature-symbol">(</span>callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Error</span>, retryCount<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L540">src/index.ts:540</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Connect client to server.</p>
</div><div><p>This creates and connects the underlying socket. If there is another <code>connect()</code> in progress
it will attach to that. If that other <code>connect()</code> is performed in the context of an auto-connect
(<a href="CarbonClient.html#autoConnect">CarbonClient.autoConnect</a> is <code>true</code>) and <a href="CarbonClient.html#retryOnError">CarbonClient.retryOnError</a> is <code>&gt; 0</code> then this
means this <code>connect()</code> call will wait until all the retries are finished. Note that normally
<code>connect()</code> only performs one connection attempt, even if <a href="CarbonClient.html#retryOnError">CarbonClient.retryOnError</a> is <code>&gt; 0</code>.</p>
<p>Also, if you manually call <code>connect()</code> right before a send is happening in the background, that
send will attach to this <code>connect()</code> and as such will not retry on connection failure, even if
<a href="CarbonClient.html#retryOnError">CarbonClient.retryOnError</a> is <code>&gt; 0</code>.</p>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p><a href="AlreadyConnected.html">AlreadyConnected</a> if connected and <a href="CarbonClient.html#autoConnect">CarbonClient.autoConnect</a> is <code>false</code>.</p>
</dd><dt>throws</dt><dd><p><a href="HostNotFound.html">HostNotFound</a> if the host referred to by <a href="CarbonClient.html#address">CarbonClient.address</a> cannot be resolved.</p>
</dd><dt>throws</dt><dd><p><a href="Disconnected.html">Disconnected</a> if <a href="CarbonClient.html#disconnect">CarbonClient.disconnect</a> is called while connect is in progress.</p>
</dd><dt>throws</dt><dd><p><a href="SocketGone.html">SocketGone</a> if the socket goes away during the operation. (<em>should never happen</em>)</p>
</dd><dt>throws</dt><dd><p><code>TypeError</code> if the socket changes type (<code>dgram.Socket</code> &lt;-&gt; <code>net.Socket</code>) during
        the operation. (<em>should never happen</em>)</p>
</dd><dt>throws</dt><dd><p><code>Error</code> based on the errors that can be thrown by the underlying used NodeJS APIs.</p>
</dd></dl></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L541">src/index.ts:541</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Connect client to server.</p>
</div><div><p>This creates and connects the underlying socket. If there is another <code>connect()</code> in progress
it will attach to that. If that other <code>connect()</code> is performed in the context of an auto-connect
(<a href="CarbonClient.html#autoConnect">CarbonClient.autoConnect</a> is <code>true</code>) and <a href="CarbonClient.html#retryOnError">CarbonClient.retryOnError</a> is <code>&gt; 0</code> then this
means this <code>connect()</code> call will wait until all the retries are finished. Note that normally
<code>connect()</code> only performs one connection attempt, even if <a href="CarbonClient.html#retryOnError">CarbonClient.retryOnError</a> is <code>&gt; 0</code>.</p>
<p>Also, if you manually call <code>connect()</code> right before a send is happening in the background, that
send will attach to this <code>connect()</code> and as such will not retry on connection failure, even if
<a href="CarbonClient.html#retryOnError">CarbonClient.retryOnError</a> is <code>&gt; 0</code>.</p>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p><a href="AlreadyConnected.html">AlreadyConnected</a> if connected and <a href="CarbonClient.html#autoConnect">CarbonClient.autoConnect</a> is <code>false</code>.</p>
</dd><dt>throws</dt><dd><p><a href="HostNotFound.html">HostNotFound</a> if the host referred to by <a href="CarbonClient.html#address">CarbonClient.address</a> cannot be resolved.</p>
</dd><dt>throws</dt><dd><p><a href="Disconnected.html">Disconnected</a> if <a href="CarbonClient.html#disconnect">CarbonClient.disconnect</a> is called while connect is in progress.</p>
</dd><dt>throws</dt><dd><p><a href="SocketGone.html">SocketGone</a> if the socket goes away during the operation. (<em>should never happen</em>)</p>
</dd><dt>throws</dt><dd><p><code>TypeError</code> if the socket changes type (<code>dgram.Socket</code> &lt;-&gt; <code>net.Socket</code>) during
        the operation. (<em>should never happen</em>)</p>
</dd><dt>throws</dt><dd><p><code>Error</code> based on the errors that can be thrown by the underlying used NodeJS APIs.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>callback: <span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Error</span>, retryCount<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Error</span>, retryCount<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>error: <span class="tsd-signature-type">null</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Error</span></h5></li><li><h5>retryCount: <span class="tsd-signature-type">number</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="disconnect" class="tsd-anchor"></a><h3 class="tsd-anchor-link">disconnect<a href="#disconnect" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">disconnect<span class="tsd-signature-symbol">(</span>callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-signature tsd-kind-icon">disconnect<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L765">src/index.ts:765</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Disconnect the client from the server.</p>
</div><div><p><strong>NOTE:</strong> If you want currently buffered data to be sent before disconnect you need
to call flush() first! Calling disconnect() cancels currently ongoing connection
and send attempts.</p>
<p>This alternative exists because awaiting promises on graceful shutdown
seems to not work (the await never returns and the process just quits).
Normal callbacks do work.</p>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p><code>Error</code> if not connected and <a href="CarbonClient.html#autoConnect">CarbonClient.autoConnect</a> is <code>false</code>.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>callback: <span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Async callback for when the client is disconnected or an error during disconnect occured.</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> error: <span class="tsd-signature-type">Error</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L779">src/index.ts:779</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Disconnect the client from the server.</p>
</div><div><p><strong>NOTE:</strong> If you want currently buffered data to be sent before disconnect you need
to call flush() first! Calling disconnect() cancels currently ongoing connection
and send attempts.</p>
<p>Await the returned promise to wait for the disconnect to finish.</p>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p><a href="NotConnected.html">NotConnected</a> if not connected and <a href="CarbonClient.html#autoConnect">CarbonClient.autoConnect</a> is <code>false</code>.</p>
</dd><dt>throws</dt><dd><p><code>Error</code> based on the errors that can be thrown by the underlying used NodeJS APIs.</p>
</dd></dl></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="flush" class="tsd-anchor"></a><h3 class="tsd-anchor-link">flush<a href="#flush" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">flush<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">flush<span class="tsd-signature-symbol">(</span>callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L836">src/index.ts:836</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Flush any buffered data.</p>
</div><div><p>Safe to call even if <a href="CarbonClient.html#isBuffered">CarbonClient.isBuffered</a> is <code>false</code>.</p>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p><a href="NotConnected.html">NotConnected</a> if not connected and <a href="CarbonClient.html#autoConnect">CarbonClient.autoConnect</a> is <code>false</code>.</p>
</dd><dt>throws</dt><dd><p><code>Error</code> based on the errors that can be thrown by the underlying used NodeJS APIs.</p>
</dd></dl></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L837">src/index.ts:837</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Flush any buffered data.</p>
</div><div><p>Safe to call even if <a href="CarbonClient.html#isBuffered">CarbonClient.isBuffered</a> is <code>false</code>.</p>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p><a href="NotConnected.html">NotConnected</a> if not connected and <a href="CarbonClient.html#autoConnect">CarbonClient.autoConnect</a> is <code>false</code>.</p>
</dd><dt>throws</dt><dd><p><code>Error</code> based on the errors that can be thrown by the underlying used NodeJS APIs.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>callback: <span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> error: <span class="tsd-signature-type">Error</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="off" class="tsd-anchor"></a><h3 class="tsd-anchor-link">off<a href="#off" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">off<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;connect&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-signature tsd-kind-icon">off<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;error&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-signature tsd-kind-icon">off<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;close&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>hadError<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L929">src/index.ts:929</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Remove an event handler.</p>
</div><div><p>This removes the first registerd event handler matching the given event name and
event handler, no matter if it was registered with <a href="CarbonClient.html#on">CarbonClient.on</a> or
<a href="CarbonClient.html#once">CarbonClient.once</a>. If you&#39;ve registered the same event handler multiple time
you need to call this function the same number of time to remove it completely
again.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;connect&quot;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event name of the registered event handler.</p>
</div></div></li><li><h5>callback: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event handler to remove.</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L930">src/index.ts:930</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Remove an event handler.</p>
</div><div><p>This removes the first registerd event handler matching the given event name and
event handler, no matter if it was registered with <a href="CarbonClient.html#on">CarbonClient.on</a> or
<a href="CarbonClient.html#once">CarbonClient.once</a>. If you&#39;ve registered the same event handler multiple time
you need to call this function the same number of time to remove it completely
again.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;error&quot;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event name of the registered event handler.</p>
</div></div></li><li><h5>callback: <span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event handler to remove.</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>error: <span class="tsd-signature-type">Error</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L931">src/index.ts:931</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Remove an event handler.</p>
</div><div><p>This removes the first registerd event handler matching the given event name and
event handler, no matter if it was registered with <a href="CarbonClient.html#on">CarbonClient.on</a> or
<a href="CarbonClient.html#once">CarbonClient.once</a>. If you&#39;ve registered the same event handler multiple time
you need to call this function the same number of time to remove it completely
again.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;close&quot;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event name of the registered event handler.</p>
</div></div></li><li><h5>callback: <span class="tsd-signature-symbol">(</span>hadError<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event handler to remove.</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>hadError<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>hadError: <span class="tsd-signature-type">boolean</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="on" class="tsd-anchor"></a><h3 class="tsd-anchor-link">on<a href="#on" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;connect&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;error&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-signature tsd-kind-icon">on<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;close&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>hadError<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L880">src/index.ts:880</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Register an event handler.</p>
</div><div><p>Registering the same function multiple times will cause it to be called as often
as it was registered for one event.</p>
<p>If an error occures during event handling this error is itself dispatched to any
registered error event handlers. If the error happened in an error event handler
or if there are no error event handlers then the error is thrown, leading to an
unhandeled rejection.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;connect&quot;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event name to listen for.</p>
</div></div></li><li><h5>callback: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event handler to call.</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L881">src/index.ts:881</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Register an event handler.</p>
</div><div><p>Registering the same function multiple times will cause it to be called as often
as it was registered for one event.</p>
<p>If an error occures during event handling this error is itself dispatched to any
registered error event handlers. If the error happened in an error event handler
or if there are no error event handlers then the error is thrown, leading to an
unhandeled rejection.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;error&quot;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event name to listen for.</p>
</div></div></li><li><h5>callback: <span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event handler to call.</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>error: <span class="tsd-signature-type">Error</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L882">src/index.ts:882</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Register an event handler.</p>
</div><div><p>Registering the same function multiple times will cause it to be called as often
as it was registered for one event.</p>
<p>If an error occures during event handling this error is itself dispatched to any
registered error event handlers. If the error happened in an error event handler
or if there are no error event handlers then the error is thrown, leading to an
unhandeled rejection.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;close&quot;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event name to listen for.</p>
</div></div></li><li><h5>callback: <span class="tsd-signature-symbol">(</span>hadError<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event handler to call.</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>hadError<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>hadError: <span class="tsd-signature-type">boolean</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="once" class="tsd-anchor"></a><h3 class="tsd-anchor-link">once<a href="#once" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">once<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;connect&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-signature tsd-kind-icon">once<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;error&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-signature tsd-kind-icon">once<span class="tsd-signature-symbol">(</span>event<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">&quot;close&quot;</span>, callback<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">(</span>hadError<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L906">src/index.ts:906</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Register an event handler that is only called once.</p>
</div><div><p>Registering the same function multiple times will cause it to be called as often
as it was registered for one event.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="CarbonClient.html#on">CarbonClient.on</a></p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;connect&quot;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event name to listen for.</p>
</div></div></li><li><h5>callback: <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event handler to call.</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L907">src/index.ts:907</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Register an event handler that is only called once.</p>
</div><div><p>Registering the same function multiple times will cause it to be called as often
as it was registered for one event.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="CarbonClient.html#on">CarbonClient.on</a></p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;error&quot;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event name to listen for.</p>
</div></div></li><li><h5>callback: <span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event handler to call.</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>error<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>error: <span class="tsd-signature-type">Error</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L908">src/index.ts:908</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Register an event handler that is only called once.</p>
</div><div><p>Registering the same function multiple times will cause it to be called as often
as it was registered for one event.</p>
</div><dl class="tsd-comment-tags"><dt>see</dt><dd><p><a href="CarbonClient.html#on">CarbonClient.on</a></p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>event: <span class="tsd-signature-type">&quot;close&quot;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event name to listen for.</p>
</div></div></li><li><h5>callback: <span class="tsd-signature-symbol">(</span>hadError<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Event handler to call.</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>hadError<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>hadError: <span class="tsd-signature-type">boolean</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="vbatchWrite" class="tsd-anchor"></a><h3 class="tsd-anchor-link">vbatch<wbr/>Write<a href="#vbatchWrite" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">vbatch<wbr/>Write<span class="tsd-signature-symbol">(</span>batch<span class="tsd-signature-symbol">: </span><a href="../modules.html#MetricMap" class="tsd-signature-type" data-tsd-kind="Type alias">MetricMap</a><span class="tsd-signature-symbol"> | </span><a href="../modules.html#MetricTuple" class="tsd-signature-type" data-tsd-kind="Type alias">MetricTuple</a><span class="tsd-signature-symbol">[]</span>, timestamp<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Date</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L1431">src/index.ts:1431</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Batch send multiple metrics all at once.</p>
</div><div><p>If you use UDP keep batch sizes small enough to fit into one UDP packet!</p>
<p>If <code>timestamp</code> is not provided the current time (via <code>Date.now()</code>) will be used.</p>
<p>In contrast to <a href="CarbonClient.html#batchWrite">CarbonClient.batchWrite</a> this doesn&#39;t return a promise, but
instead if an error occurs during sending this error will be dispatched
to any registered <code>&#39;error&#39;</code> even handlers.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>batch: <a href="../modules.html#MetricMap" class="tsd-signature-type" data-tsd-kind="Type alias">MetricMap</a><span class="tsd-signature-symbol"> | </span><a href="../modules.html#MetricTuple" class="tsd-signature-type" data-tsd-kind="Type alias">MetricTuple</a><span class="tsd-signature-symbol">[]</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The metrics to write.</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> timestamp: <span class="tsd-signature-type">Date</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The timestamp to use for metrics that don&#39;t define it directly.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="vwrite" class="tsd-anchor"></a><h3 class="tsd-anchor-link">vwrite<a href="#vwrite" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">vwrite<span class="tsd-signature-symbol">(</span>path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span>, timestamp<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Date</span>, tags<span class="tsd-signature-symbol">?: </span><a href="../interfaces/Tags.html" class="tsd-signature-type" data-tsd-kind="Interface">Tags</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li><li class="tsd-signature tsd-kind-icon">vwrite<span class="tsd-signature-symbol">(</span>path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span>, tags<span class="tsd-signature-symbol">?: </span><a href="../interfaces/Tags.html" class="tsd-signature-type" data-tsd-kind="Interface">Tags</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L1396">src/index.ts:1396</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Send a metric to the carbon server.</p>
</div><div><p>In contrast to <a href="CarbonClient.html#write">CarbonClient.write</a> this doesn&#39;t return a promise, but
instead if an error occurs during sending this error will be dispatched
to any registered <code>&#39;error&#39;</code> even handlers.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>path: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Metric path.</p>
</div></div></li><li><h5>value: <span class="tsd-signature-type">number</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Metric value.</p>
</div></div></li><li><h5>timestamp: <span class="tsd-signature-type">Date</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Metric timestamp.</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> tags: <a href="../interfaces/Tags.html" class="tsd-signature-type" data-tsd-kind="Interface">Tags</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Metric tags.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L1411">src/index.ts:1411</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Send a metric to the carbon server.</p>
</div><div><p>The current time (via <code>Date.now()</code>) will be used.</p>
<p>In contrast to <a href="CarbonClient.html#write">CarbonClient.write</a> this doesn&#39;t return a promise, but
instead if an error occurs during sending this error will be dispatched
to any registered <code>&#39;error&#39;</code> even handlers.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>path: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Metric path.</p>
</div></div></li><li><h5>value: <span class="tsd-signature-type">number</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Metric value.</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> tags: <a href="../interfaces/Tags.html" class="tsd-signature-type" data-tsd-kind="Interface">Tags</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>Metric tags.</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-method tsd-parent-kind-class"><a id="write" class="tsd-anchor"></a><h3 class="tsd-anchor-link">write<a href="#write" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-method tsd-parent-kind-class"><li class="tsd-signature tsd-kind-icon">write<span class="tsd-signature-symbol">(</span>path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span>, timestamp<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Date</span>, tags<span class="tsd-signature-symbol">?: </span><a href="../interfaces/Tags.html" class="tsd-signature-type" data-tsd-kind="Interface">Tags</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-signature tsd-kind-icon">write<span class="tsd-signature-symbol">(</span>path<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span>, tags<span class="tsd-signature-symbol">?: </span><a href="../interfaces/Tags.html" class="tsd-signature-type" data-tsd-kind="Interface">Tags</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L1223">src/index.ts:1223</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Send a metric to the carbon server.</p>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p><a href="IllegalArgument.html">IllegalArgument</a> if path, timestamp, a tag-name, or a tag-value is invalid.</p>
</dd><dt>throws</dt><dd><p><a href="NotConnected.html">NotConnected</a> if not connected and <a href="CarbonClient.html#autoConnect">CarbonClient.autoConnect</a> is <code>false</code>.</p>
</dd><dt>throws</dt><dd><p><a href="SocketGone.html">SocketGone</a> if socket went away during the operation.</p>
</dd><dt>throws</dt><dd><p><code>Error</code> based on the errors that can be thrown by the underlying used NodeJS APIs.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>path: <span class="tsd-signature-type">string</span></h5></li><li><h5>value: <span class="tsd-signature-type">number</span></h5></li><li><h5>timestamp: <span class="tsd-signature-type">Date</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> tags: <a href="../interfaces/Tags.html" class="tsd-signature-type" data-tsd-kind="Interface">Tags</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>Promise that resolves when the metric is sent.</p>
</div></li><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L1244">src/index.ts:1244</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Send a metric to the carbon server.</p>
</div><div><p>The current time (via <code>Date.now()</code>) will be used.</p>
<p><strong>NOTE:</strong> If <a href="CarbonClient.html#sendBufferSize">CarbonClient.sendBufferSize</a> is <code>&gt; 0</code> then any error (except for
<a href="IllegalArgument.html">IllegalArgument</a>) might not happen during <code>await</code> of the returned <code>Promise</code>, but
will only dispatched to any registered error handlers. See: <a href="CarbonClient.html#on">CarbonClient.on</a></p>
<p>Also note that if the sent data doesn&#39;t fit into the buffer, this will issue a
send immediately and any promise rejections of that send <em>will</em> be directly returned
when <code>await</code>ing the returned <code>Promise</code>.</p>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p><a href="IllegalArgument.html">IllegalArgument</a> if path, a tag-name, or a tag-value is invalid.</p>
</dd><dt>throws</dt><dd><p><a href="NotConnected.html">NotConnected</a> if not connected and <a href="CarbonClient.html#autoConnect">CarbonClient.autoConnect</a> is <code>false</code>.</p>
</dd><dt>throws</dt><dd><p><a href="SocketGone.html">SocketGone</a> if socket went away during the operation.</p>
</dd><dt>throws</dt><dd><p><code>Error</code> based on the errors that can be thrown by the underlying used NodeJS APIs.</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>path: <span class="tsd-signature-type">string</span></h5></li><li><h5>value: <span class="tsd-signature-type">number</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> tags: <a href="../interfaces/Tags.html" class="tsd-signature-type" data-tsd-kind="Interface">Tags</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>Promise that resolves when the metric is sent.</p>
</div></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class=""><a href="../modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="current tsd-kind-class"><a href="CarbonClient.html" class="tsd-kind-icon">Carbon<wbr/>Client</a><ul><li class="tsd-kind-constructor tsd-parent-kind-class"><a href="CarbonClient.html#constructor" class="tsd-kind-icon">constructor</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#address" class="tsd-kind-icon">address</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#autoConnect" class="tsd-kind-icon">auto<wbr/>Connect</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#family" class="tsd-kind-icon">family</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#port" class="tsd-kind-icon">port</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#prefix" class="tsd-kind-icon">prefix</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#retryOnError" class="tsd-kind-icon">retry<wbr/>On<wbr/>Error</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#retryTimeout" class="tsd-kind-icon">retry<wbr/>Timeout</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#sendBufferSize" class="tsd-kind-icon">send<wbr/>Buffer<wbr/>Size</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#sendInterval" class="tsd-kind-icon">send<wbr/>Interval</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#transport" class="tsd-kind-icon">transport</a></li><li class="tsd-kind-property tsd-parent-kind-class"><a href="CarbonClient.html#udpSendBufferSize" class="tsd-kind-icon">udp<wbr/>Send<wbr/>Buffer<wbr/>Size</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="CarbonClient.html#bufferedBytes" class="tsd-kind-icon">buffered<wbr/>Bytes</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="CarbonClient.html#isBuffered" class="tsd-kind-icon">is<wbr/>Buffered</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="CarbonClient.html#isConnected" class="tsd-kind-icon">is<wbr/>Connected</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="CarbonClient.html#isConnecting" class="tsd-kind-icon">is<wbr/>Connecting</a></li><li class="tsd-kind-get-signature tsd-parent-kind-class"><a href="CarbonClient.html#isDisconnected" class="tsd-kind-icon">is<wbr/>Disconnected</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#batchWrite" class="tsd-kind-icon">batch<wbr/>Write</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#connect" class="tsd-kind-icon">connect</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#disconnect" class="tsd-kind-icon">disconnect</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#flush" class="tsd-kind-icon">flush</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#off" class="tsd-kind-icon">off</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#on" class="tsd-kind-icon">on</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#once" class="tsd-kind-icon">once</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#vbatchWrite" class="tsd-kind-icon">vbatch<wbr/>Write</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#vwrite" class="tsd-kind-icon">vwrite</a></li><li class="tsd-kind-method tsd-parent-kind-class"><a href="CarbonClient.html#write" class="tsd-kind-icon">write</a></li></ul></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="../assets/main.js"></script></body></html>