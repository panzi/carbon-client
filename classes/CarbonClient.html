<!DOCTYPE html><html class="default" lang="en" data-base=".."><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>CarbonClient | Carbon Client</title><meta name="description" content="Documentation for Carbon Client"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script><script async src="../assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search"><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">Carbon Client</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">Carbon Client</a></li><li><a href="CarbonClient.html">CarbonClient</a></li></ul><h1>Class CarbonClient</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>Implementing of the <a href="https://graphiteapp.org/" target="_blank" class="external">graphite</a> <a href="https://github.com/graphite-project/carbon" target="_blank" class="external">carbon</a>
<a href="https://graphite.readthedocs.io/en/latest/feeding-carbon.html#the-plaintext-protocol" target="_blank" class="external">plain text protocol</a>.</p>
<a id="allowed-names-and-values" class="tsd-anchor"></a><h4 class="tsd-anchor-link">Allowed Names and Values<a href="#allowed-names-and-values" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>This graphite carbon protocol implementation is a bit strict about the characters
allowed in metric paths, tag names, and tag values just to be safe. The plain text
protocol documentation itself isn't extremely precise and doesn't mention any
allowed or disallowed characters or encoding schemes. Given the protocol just
consists of lines in the form of <code>&lt;metric path&gt; &lt;metric value&gt; &lt;metric timestamp&gt;</code>
it is clear that the path may not contain any whitespace. Also since the tags are
just appended to the path name using <code>;</code> as a delimiter between the path and the
tags and <code>=</code> between tag name and value these characters can clearly also no occur
in path names. Further the whisper server seems to store metric on the filesystem
by splitting it on <code>.</code> and creating a filesystem hierarchy based on the split
path comonents. That means paths better not contain any characters not allowed
in file names of any common operating systems. Also no double-<code>.</code>, leading-<code>.</code>
or trailing-<code>.</code>. For tags there are also certain limitations around the <code>~</code>
character.</p>
<p>Therefore this library only allows paths and tag names in this schema:</p>
<pre><code class="shell"><span class="hl-3">path</span><span class="hl-1">           </span><span class="hl-4">=</span><span class="hl-1"> </span><span class="hl-4">path-component</span><span class="hl-1"> (</span><span class="hl-4">&#39;.&#39;</span><span class="hl-1"> </span><span class="hl-4">path-component</span><span class="hl-1">)*</span><br/><span class="hl-3">path-component</span><span class="hl-1"> </span><span class="hl-4">=</span><span class="hl-1"> (letter | </span><span class="hl-3">digit</span><span class="hl-1"> | </span><span class="hl-3">&#39;-&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;+&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;@&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;$&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;_&#39;</span><span class="hl-1"> | </span><span class="hl-3">hex-encoding</span><span class="hl-1">)+</span><br/><br/><span class="hl-3">prefix</span><span class="hl-1">         </span><span class="hl-4">=</span><span class="hl-1"> </span><span class="hl-4">path</span><span class="hl-1"> </span><span class="hl-4">&#39;.&#39;?</span><br/><br/><span class="hl-3">tag-name</span><span class="hl-1">       </span><span class="hl-4">=</span><span class="hl-1"> </span><span class="hl-4">path</span><br/><br/><span class="hl-3">tag-value</span><span class="hl-1">      </span><span class="hl-4">=</span><span class="hl-1"> (letter | </span><span class="hl-3">digit</span><span class="hl-1"> | </span><span class="hl-3">&#39;-&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;+&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;@&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;$&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;_&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;.&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;*&#39;</span><br/><span class="hl-1">                 | </span><span class="hl-3">&#39;:&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;,&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;&amp;&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;#&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;|&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;&lt;&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;&gt;&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;[&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;]&#39;</span><br/><span class="hl-1">                 | </span><span class="hl-3">&#39;(&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;)&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;{&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;}&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;=&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;!&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;?&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;^&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;/&#39;</span><br/><span class="hl-1">                 | </span><span class="hl-3">&#39;\&#39;</span><span class="hl-1"> | </span><span class="hl-3">hex-encoding</span><span class="hl-1">)+</span><br/><br/><span class="hl-3">hex-encoding</span><span class="hl-1">   </span><span class="hl-4">=</span><span class="hl-1"> </span><span class="hl-4">&#39;%&#39;</span><span class="hl-1"> </span><span class="hl-4">hex-digit</span><span class="hl-1"> </span><span class="hl-4">hex-digit</span><br/><span class="hl-3">letter</span><span class="hl-1">         </span><span class="hl-4">=</span><span class="hl-1"> </span><span class="hl-4">&#39;a&#39;</span><span class="hl-1"> </span><span class="hl-4">...</span><span class="hl-1"> </span><span class="hl-4">&#39;z&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;A&#39;</span><span class="hl-1"> </span><span class="hl-4">...</span><span class="hl-1"> </span><span class="hl-4">&#39;Z&#39;</span><br/><span class="hl-3">digit</span><span class="hl-1">          </span><span class="hl-4">=</span><span class="hl-1"> </span><span class="hl-4">&#39;0&#39;</span><span class="hl-1"> </span><span class="hl-4">...</span><span class="hl-1"> </span><span class="hl-4">&#39;9&#39;</span><br/><span class="hl-3">hex-digit</span><span class="hl-1">      </span><span class="hl-4">=</span><span class="hl-1"> </span><span class="hl-4">&#39;0&#39;</span><span class="hl-1"> </span><span class="hl-4">...</span><span class="hl-1"> </span><span class="hl-4">&#39;9&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;a&#39;</span><span class="hl-1"> </span><span class="hl-4">...</span><span class="hl-1"> </span><span class="hl-4">&#39;f&#39;</span><span class="hl-1"> | </span><span class="hl-3">&#39;A&#39;</span><span class="hl-1"> </span><span class="hl-4">...</span><span class="hl-1"> </span><span class="hl-4">&#39;F&#39;</span>
</code><button type="button">Copy</button></pre>

<p>Note that tag values may not be empty.</p>
<p>The <code>hex-encoding</code> is meant as a convention. If you really have to use metric
paths or tag names with other characters you can pass them through
<code>encodeURIComponent()</code>. Note that you have to also do the reverse
(<code>decodeURIComponent()</code>) when reading back metric paths, tag names and values.</p>
<p>Note that if the whisper server would really run on Windows (don't know if it ever
does) there are also problems with case-insensitivity (also true for macOS) and
for certain special file names: <code>COM1</code> <code>COM2</code> <code>COM3</code> <code>COM4</code> <code>COM5</code> <code>COM6</code> <code>COM7</code>
<code>COM8</code> <code>COM9</code> <code>LPT1</code> <code>LPT2</code> <code>LPT3</code> <code>LPT4</code> <code>LPT5</code> <code>LPT6</code> <code>LPT7</code> <code>LPT8</code> <code>LPT9</code> <code>CON</code>
<code>NUL</code> <code>PRN</code></p>
<p>Also the tag name <code>name</code> is used to store the metric path.</p>
<p>This library does not take care of these cases.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-see"><h4 class="tsd-anchor-link"><a id="see" class="tsd-anchor"></a>See<a href="#see" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><ul>
<li><a href="https://graphite.readthedocs.io/en/latest/feeding-carbon.html#the-plaintext-protocol" target="_blank" class="external">Plain Text Protocol</a></li>
<li><a href="https://graphite.readthedocs.io/en/latest/tags.html#carbon" target="_blank" class="external">Tags</a></li>
</ul>
</div></div></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L299">src/index.ts:299</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><h5 class="tsd-index-heading uppercase" role="button" aria-expanded="false" tabIndex="0"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-chevronSmall"></use></svg> Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Constructors</h3><div class="tsd-index-list"><a href="CarbonClient.html#constructor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="CarbonClient.html#address" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>address</span></a>
<a href="CarbonClient.html#autoconnect" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>auto<wbr/>Connect</span></a>
<a href="CarbonClient.html#family" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>family?</span></a>
<a href="CarbonClient.html#port" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>port</span></a>
<a href="CarbonClient.html#prefix" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>prefix</span></a>
<a href="CarbonClient.html#retryonerror" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>retry<wbr/>On<wbr/>Error</span></a>
<a href="CarbonClient.html#retrytimeout" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>retry<wbr/>Timeout</span></a>
<a href="CarbonClient.html#sendbuffersize" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>send<wbr/>Buffer<wbr/>Size</span></a>
<a href="CarbonClient.html#sendinterval" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>send<wbr/>Interval</span></a>
<a href="CarbonClient.html#transport" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>transport</span></a>
<a href="CarbonClient.html#udpsendbuffersize" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>udp<wbr/>Send<wbr/>Buffer<wbr/>Size?</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Accessors</h3><div class="tsd-index-list"><a href="CarbonClient.html#bufferedbytes" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-262144"></use></svg><span>buffered<wbr/>Bytes</span></a>
<a href="CarbonClient.html#isbuffered" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-262144"></use></svg><span>is<wbr/>Buffered</span></a>
<a href="CarbonClient.html#isconnected" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-262144"></use></svg><span>is<wbr/>Connected</span></a>
<a href="CarbonClient.html#isconnecting" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-262144"></use></svg><span>is<wbr/>Connecting</span></a>
<a href="CarbonClient.html#isdisconnected" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-262144"></use></svg><span>is<wbr/>Disconnected</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="CarbonClient.html#batchwrite" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>batch<wbr/>Write</span></a>
<a href="CarbonClient.html#connect" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>connect</span></a>
<a href="CarbonClient.html#disconnect" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>disconnect</span></a>
<a href="CarbonClient.html#flush" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>flush</span></a>
<a href="CarbonClient.html#off" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>off</span></a>
<a href="CarbonClient.html#on" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>on</span></a>
<a href="CarbonClient.html#once" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>once</span></a>
<a href="CarbonClient.html#vbatchwrite" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>vbatch<wbr/>Write</span></a>
<a href="CarbonClient.html#vwrite" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>vwrite</span></a>
<a href="CarbonClient.html#write" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>write</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Constructors"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Constructors</h2></summary><section><section class="tsd-panel tsd-member"><a id="constructor" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>constructor</span><a href="#constructor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="constructorcarbonclient" class="tsd-anchor"></a><span class="tsd-signature-keyword">new</span> <span class="tsd-kind-constructor-signature">CarbonClient</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">address</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">port</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">transport</span><span class="tsd-signature-symbol">?:</span> <a href="../types/IPTransport.html" class="tsd-signature-type tsd-kind-type-alias">IPTransport</a><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">autoConnect</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="CarbonClient.html" class="tsd-signature-type tsd-kind-class">CarbonClient</a><a href="#constructorcarbonclient" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">address</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>hostname or IP address of carbon server</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">port</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>port of carbon server, [[DEFAULT_PORT]] if not given</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">transport</span>: <a href="../types/IPTransport.html" class="tsd-signature-type tsd-kind-type-alias">IPTransport</a></span><div class="tsd-comment tsd-typography"><p>transport layer protocol to use, [[DEFAULT_TRANSPORT]] if not given</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">autoConnect</span>: <span class="tsd-signature-type">boolean</span></span><div class="tsd-comment tsd-typography"><p>automatically connect on write if not connected, <code>false</code> if not given</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="CarbonClient.html" class="tsd-signature-type tsd-kind-class">CarbonClient</a></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws" class="tsd-anchor"></a>Throws<a href="#throws" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>[[IllegalArgument]]</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-1" class="tsd-anchor"></a>Throws<a href="#throws-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>TypeError</code></p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L396">src/index.ts:396</a></li></ul></aside></li><li class="tsd-signature tsd-anchor-link"><a id="constructorcarbonclient-1" class="tsd-anchor"></a><span class="tsd-signature-keyword">new</span> <span class="tsd-kind-constructor-signature">CarbonClient</span><span class="tsd-signature-symbol">(</span><br/>    <span class="tsd-kind-parameter">path</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">transport</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">&quot;IPC&quot;</span><span class="tsd-signature-symbol">,</span><br/>    <span class="tsd-kind-parameter">autoConnect</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">,</span><br/><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="CarbonClient.html" class="tsd-signature-type tsd-kind-class">CarbonClient</a><a href="#constructorcarbonclient-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">path</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>path of Unix domain socket</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">transport</span>: <span class="tsd-signature-type">&quot;IPC&quot;</span></span><div class="tsd-comment tsd-typography"><p>always <code>'IPC'</code></p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">autoConnect</span>: <span class="tsd-signature-type">boolean</span></span><div class="tsd-comment tsd-typography"><p>automatically connect on write if not connected, <code>false</code> if not given</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="CarbonClient.html" class="tsd-signature-type tsd-kind-class">CarbonClient</a></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-2" class="tsd-anchor"></a>Throws<a href="#throws-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>[[IllegalArgument]]</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-3" class="tsd-anchor"></a>Throws<a href="#throws-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>TypeError</code></p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L407">src/index.ts:407</a></li></ul></aside></li><li class="tsd-signature tsd-anchor-link"><a id="constructorcarbonclient-2" class="tsd-anchor"></a><span class="tsd-signature-keyword">new</span> <span class="tsd-kind-constructor-signature">CarbonClient</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">:</span> <a href="../interfaces/CarbonClientOptions.html" class="tsd-signature-type tsd-kind-interface">CarbonClientOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <a href="CarbonClient.html" class="tsd-signature-type tsd-kind-class">CarbonClient</a><a href="#constructorcarbonclient-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/CarbonClientOptions.html" class="tsd-signature-type tsd-kind-interface">CarbonClientOptions</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <a href="CarbonClient.html" class="tsd-signature-type tsd-kind-class">CarbonClient</a></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L409">src/index.ts:409</a></li></ul></aside></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Properties"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Properties</h2></summary><section><section class="tsd-panel tsd-member"><a id="address" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Readonly</code><span>address</span><a href="#address" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">address</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span></div><div class="tsd-comment tsd-typography"><p>For TCP and UDP the hostname or IP address of the server, for
IPC the file name of the Unix domain socket.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L304">src/index.ts:304</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="autoconnect" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>auto<wbr/>Connect</span><a href="#autoconnect" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">autoConnect</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span></div><div class="tsd-comment tsd-typography"><p>Automatically connect on write if not connected.</p>
<p>Also if <code>ture</code> then calls of [[CarbonClient.connect]] when connected and
calls of [[CarbonClient.disconnect]] when not connected are not errors.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L355">src/index.ts:355</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="family" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Optional</code> <code class="tsd-tag">Readonly</code><span>family</span><a href="#family" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">family</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">4</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">6</span></div><div class="tsd-comment tsd-typography"><p>For TCP and UDP the IP address family to use.</p>
<p>If not given it will be auto-detected. For UDP if there are IPv6 and IPv4
addresses of a hostname the IPv6 address will be preferred. Explicitely
pass <code>4</code> if you do not want this.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L342">src/index.ts:342</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="port" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Readonly</code><span>port</span><a href="#port" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">port</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span></div><div class="tsd-comment tsd-typography"><p>Server port to connect to. Will be <code>-1</code> if [[CarbonClient.transport]] is <code>'IPC'</code>.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L309">src/index.ts:309</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="prefix" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Readonly</code><span>prefix</span><a href="#prefix" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">prefix</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> = &#39;&#39;</span></div><div class="tsd-comment tsd-typography"><p>Prefix added to all metric paths.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L347">src/index.ts:347</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="retryonerror" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Readonly</code><span>retry<wbr/>On<wbr/>Error</span><a href="#retryonerror" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">retryOnError</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = 0</span></div><div class="tsd-comment tsd-typography"><p>Number of automatic retries on network error. Defaults to <code>0</code>.</p>
<p>Error handlers are still called.</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-see"><h4 class="tsd-anchor-link"><a id="see-1" class="tsd-anchor"></a>See<a href="#see-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>[[CarbonClient.retryTimeout]]</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L364">src/index.ts:364</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="retrytimeout" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Readonly</code><span>retry<wbr/>Timeout</span><a href="#retrytimeout" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">retryTimeout</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = DEFAULT_RETRY_TIMEOUT</span></div><div class="tsd-comment tsd-typography"><p>Time to wait before retrying after error. Defaults to [[DEFAULT_RETRY_TIMEOUT]].</p>
</div><div class="tsd-comment tsd-typography"><div class="tsd-tag-see"><h4 class="tsd-anchor-link"><a id="see-2" class="tsd-anchor"></a>See<a href="#see-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>[[CarbonClient.retryOnError]]</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L371">src/index.ts:371</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="sendbuffersize" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Readonly</code><span>send<wbr/>Buffer<wbr/>Size</span><a href="#sendbuffersize" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">sendBufferSize</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = DEFAULT_SEND_BUFFER_SIZE</span></div><div class="tsd-comment tsd-typography"><p>Size of send buffer. If set to <code>0</code> metrics are sent immediately.
Defaults to [[DEFAULT_SEND_BUFFER_SIZE]].</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L327">src/index.ts:327</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="sendinterval" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Readonly</code><span>send<wbr/>Interval</span><a href="#sendinterval" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">sendInterval</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol"> = DEFAULT_SEND_INTERVAL</span></div><div class="tsd-comment tsd-typography"><p>Buffer wait time. If set to <code>0</code> metrics are sent immediately.
Defaults to [[DEFAULT_SEND_INTERVAL]].</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L333">src/index.ts:333</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="transport" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Readonly</code><span>transport</span><a href="#transport" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">transport</span><span class="tsd-signature-symbol">:</span> <a href="../types/Transport.html" class="tsd-signature-type tsd-kind-type-alias">Transport</a></div><div class="tsd-comment tsd-typography"><p>Transport layer protocol to use.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L314">src/index.ts:314</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="udpsendbuffersize" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Optional</code> <code class="tsd-tag">Readonly</code><span>udp<wbr/>Send<wbr/>Buffer<wbr/>Size</span><a href="#udpsendbuffersize" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">udpSendBufferSize</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">number</span></div><div class="tsd-comment tsd-typography"><p>If [[CarbonClient.transport]] is <code>&quot;UDP&quot;</code> the
<a href="https://nodejs.org/dist/latest-v16.x/docs/api/dgram.html#dgramcreatesocketoptions-callback" target="_blank" class="external">dgram.SocketOptions.sendBufferSize</a>
of UDP sockets.</p>
</div><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L321">src/index.ts:321</a></li></ul></aside></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Accessors"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Accessors</h2></summary><section><section class="tsd-panel tsd-member"><a id="bufferedbytes" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>buffered<wbr/>Bytes</span><a href="#bufferedbytes" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature" id="bufferedbytes-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">bufferedBytes</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns the number of currently buffered bytes.</p>
<p>If [[CarbonClient.isBuffered]] is <code>false</code> this is always <code>0</code>.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L746">src/index.ts:746</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="isbuffered" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>is<wbr/>Buffered</span><a href="#isbuffered" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature" id="isbuffered-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">isBuffered</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns true if the client bufferes multiple writes into one send.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-see"><h4 class="tsd-anchor-link"><a id="see-3" class="tsd-anchor"></a>See<a href="#see-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>[[CarbonClient.sendBufferSize]] and [[CarbonClient.sendInterval]].</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L737">src/index.ts:737</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="isconnected" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>is<wbr/>Connected</span><a href="#isconnected" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature" id="isconnected-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">isConnected</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns true if the underlying socket was created, is writeable and not connecting.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L693">src/index.ts:693</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="isconnecting" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>is<wbr/>Connecting</span><a href="#isconnecting" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature" id="isconnecting-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">isConnecting</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns true if the underlying socket was created and is connecting or if
the client is in the process of retrying to connect.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L705">src/index.ts:705</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="isdisconnected" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>is<wbr/>Disconnected</span><a href="#isdisconnected" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature" id="isdisconnected-1"><span class="tsd-signature-keyword">get</span> <span class="tsd-kind-get-signature">isDisconnected</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns true if the socket is destroyed, or if it is not yet created and
not in the process of connecting.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L721">src/index.ts:721</a></li></ul></aside></li></ul></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Methods</h2></summary><section><section class="tsd-panel tsd-member"><a id="batchwrite" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>batch<wbr/>Write</span><a href="#batchwrite" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="batchwrite-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">batchWrite</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">batch</span><span class="tsd-signature-symbol">:</span> <a href="../types/MetricMap.html" class="tsd-signature-type tsd-kind-type-alias">MetricMap</a> <span class="tsd-signature-symbol">|</span> <a href="../types/MetricTuple.html" class="tsd-signature-type tsd-kind-type-alias">MetricTuple</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">timestamp</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Date</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#batchwrite-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Batch send multiple metrics all at once.</p>
<p>If you use UDP keep batch sizes small enough to fit into one UDP packet!</p>
<p>If <code>timestamp</code> is not provided the current time (via <code>Date.now()</code>) will be used.</p>
<p><strong>NOTE:</strong> If [[CarbonClient.sendBufferSize]] is <code>&gt; 0</code> then any error (except for
[[IllegalArgument]]) might not happen during <code>await</code> of the returned Promise, but
will only dispatched to any registered error handlers. See: [[CarbonClient.on]]</p>
<p>Also note that if the sent data doesn't fit into the buffer, this will issue a
send immediately and any promise rejections of that send <em>will</em> be directly returned
when <code>await</code>ing the returned Promise.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">batch</span>: <a href="../types/MetricMap.html" class="tsd-signature-type tsd-kind-type-alias">MetricMap</a> <span class="tsd-signature-symbol">|</span> <a href="../types/MetricTuple.html" class="tsd-signature-type tsd-kind-type-alias">MetricTuple</a><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>The metrics to write.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">timestamp</span>: <span class="tsd-signature-type">Date</span></span><div class="tsd-comment tsd-typography"><p>The timestamp to use for metrics that don't define it directly.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Promise that resolves when the metric is sent.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-4" class="tsd-anchor"></a>Throws<a href="#throws-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>[[IllegalArgument]] if a path, a timestamp, a tag-name, or a tag-value is invalid.</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-5" class="tsd-anchor"></a>Throws<a href="#throws-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>Error</code> based on the errors that can be thrown by the underlying used NodeJS APIs.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L1307">src/index.ts:1307</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="connect" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>connect</span><a href="#connect" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="connect-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">connect</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#connect-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L540">src/index.ts:540</a></li></ul></aside></li><li class="tsd-signature tsd-anchor-link"><a id="connect-2" class="tsd-anchor"></a><span class="tsd-kind-call-signature">connect</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">callback</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">error</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">retryCount</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#connect-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">callback</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">error</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">null</span> <span class="tsd-signature-symbol">|</span> <span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">retryCount</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L541">src/index.ts:541</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="disconnect" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>disconnect</span><a href="#disconnect" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="disconnect-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">disconnect</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">callback</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">error</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#disconnect-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Disconnect the client from the server.</p>
<p><strong>NOTE:</strong> If you want currently buffered data to be sent before disconnect you need
to call flush() first! Calling disconnect() cancels currently ongoing connection
and send attempts.</p>
<p>This alternative exists because awaiting promises on graceful shutdown
seems to not work (the await never returns and the process just quits).
Normal callbacks do work.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">callback</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">error</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span></span><div class="tsd-comment tsd-typography"><p>Async callback for when the client is disconnected or an error during disconnect occured.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-6" class="tsd-anchor"></a>Throws<a href="#throws-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>Error</code> if not connected and [[CarbonClient.autoConnect]] is <code>false</code>.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L765">src/index.ts:765</a></li></ul></aside></li><li class="tsd-signature tsd-anchor-link"><a id="disconnect-2" class="tsd-anchor"></a><span class="tsd-kind-call-signature">disconnect</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#disconnect-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Disconnect the client from the server.</p>
<p><strong>NOTE:</strong> If you want currently buffered data to be sent before disconnect you need
to call flush() first! Calling disconnect() cancels currently ongoing connection
and send attempts.</p>
<p>Await the returned promise to wait for the disconnect to finish.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-7" class="tsd-anchor"></a>Throws<a href="#throws-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>[[NotConnected]] if not connected and [[CarbonClient.autoConnect]] is <code>false</code>.</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-8" class="tsd-anchor"></a>Throws<a href="#throws-8" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>Error</code> based on the errors that can be thrown by the underlying used NodeJS APIs.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L779">src/index.ts:779</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="flush" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>flush</span><a href="#flush" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="flush-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">flush</span><span class="tsd-signature-symbol">()</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#flush-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L836">src/index.ts:836</a></li></ul></aside></li><li class="tsd-signature tsd-anchor-link"><a id="flush-2" class="tsd-anchor"></a><span class="tsd-kind-call-signature">flush</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">callback</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">error</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#flush-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">callback</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">error</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L837">src/index.ts:837</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="off" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>off</span><a href="#off" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="off-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">off</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">event</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">&quot;connect&quot;</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">callback</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">()</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#off-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">event</span>: <span class="tsd-signature-type">&quot;connect&quot;</span></span></li><li><span><span class="tsd-kind-parameter">callback</span>: <span class="tsd-signature-symbol">()</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L929">src/index.ts:929</a></li></ul></aside></li><li class="tsd-signature tsd-anchor-link"><a id="off-2" class="tsd-anchor"></a><span class="tsd-kind-call-signature">off</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">event</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">&quot;error&quot;</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">callback</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">error</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#off-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">event</span>: <span class="tsd-signature-type">&quot;error&quot;</span></span></li><li><span><span class="tsd-kind-parameter">callback</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">error</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L930">src/index.ts:930</a></li></ul></aside></li><li class="tsd-signature tsd-anchor-link"><a id="off-3" class="tsd-anchor"></a><span class="tsd-kind-call-signature">off</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">event</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">&quot;close&quot;</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">callback</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">hadError</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#off-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">event</span>: <span class="tsd-signature-type">&quot;close&quot;</span></span></li><li><span><span class="tsd-kind-parameter">callback</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">hadError</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L931">src/index.ts:931</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="on" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>on</span><a href="#on" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="on-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">on</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">event</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">&quot;connect&quot;</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">callback</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">()</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#on-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">event</span>: <span class="tsd-signature-type">&quot;connect&quot;</span></span></li><li><span><span class="tsd-kind-parameter">callback</span>: <span class="tsd-signature-symbol">()</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L880">src/index.ts:880</a></li></ul></aside></li><li class="tsd-signature tsd-anchor-link"><a id="on-2" class="tsd-anchor"></a><span class="tsd-kind-call-signature">on</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">event</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">&quot;error&quot;</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">callback</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">error</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#on-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">event</span>: <span class="tsd-signature-type">&quot;error&quot;</span></span></li><li><span><span class="tsd-kind-parameter">callback</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">error</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L881">src/index.ts:881</a></li></ul></aside></li><li class="tsd-signature tsd-anchor-link"><a id="on-3" class="tsd-anchor"></a><span class="tsd-kind-call-signature">on</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">event</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">&quot;close&quot;</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">callback</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">hadError</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#on-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">event</span>: <span class="tsd-signature-type">&quot;close&quot;</span></span></li><li><span><span class="tsd-kind-parameter">callback</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">hadError</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L882">src/index.ts:882</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="once" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>once</span><a href="#once" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="once-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">once</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">event</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">&quot;connect&quot;</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">callback</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">()</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#once-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">event</span>: <span class="tsd-signature-type">&quot;connect&quot;</span></span></li><li><span><span class="tsd-kind-parameter">callback</span>: <span class="tsd-signature-symbol">()</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L906">src/index.ts:906</a></li></ul></aside></li><li class="tsd-signature tsd-anchor-link"><a id="once-2" class="tsd-anchor"></a><span class="tsd-kind-call-signature">once</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">event</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">&quot;error&quot;</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">callback</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">error</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#once-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">event</span>: <span class="tsd-signature-type">&quot;error&quot;</span></span></li><li><span><span class="tsd-kind-parameter">callback</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">error</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L907">src/index.ts:907</a></li></ul></aside></li><li class="tsd-signature tsd-anchor-link"><a id="once-3" class="tsd-anchor"></a><span class="tsd-kind-call-signature">once</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">event</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">&quot;close&quot;</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">callback</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">hadError</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#once-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">event</span>: <span class="tsd-signature-type">&quot;close&quot;</span></span></li><li><span><span class="tsd-kind-parameter">callback</span>: <span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">hadError</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span> <span class="tsd-signature-symbol">=&gt;</span> <span class="tsd-signature-type">void</span></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L908">src/index.ts:908</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="vbatchwrite" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>vbatch<wbr/>Write</span><a href="#vbatchwrite" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="vbatchwrite-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">vbatchWrite</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">batch</span><span class="tsd-signature-symbol">:</span> <a href="../types/MetricMap.html" class="tsd-signature-type tsd-kind-type-alias">MetricMap</a> <span class="tsd-signature-symbol">|</span> <a href="../types/MetricTuple.html" class="tsd-signature-type tsd-kind-type-alias">MetricTuple</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">timestamp</span><span class="tsd-signature-symbol">?:</span> <span class="tsd-signature-type">Date</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#vbatchwrite-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Batch send multiple metrics all at once.</p>
<p>If you use UDP keep batch sizes small enough to fit into one UDP packet!</p>
<p>If <code>timestamp</code> is not provided the current time (via <code>Date.now()</code>) will be used.</p>
<p>In contrast to [[CarbonClient.batchWrite]] this doesn't return a promise, but
instead if an error occurs during sending this error will be dispatched
to any registered <code>'error'</code> even handlers.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">batch</span>: <a href="../types/MetricMap.html" class="tsd-signature-type tsd-kind-type-alias">MetricMap</a> <span class="tsd-signature-symbol">|</span> <a href="../types/MetricTuple.html" class="tsd-signature-type tsd-kind-type-alias">MetricTuple</a><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>The metrics to write.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">timestamp</span>: <span class="tsd-signature-type">Date</span></span><div class="tsd-comment tsd-typography"><p>The timestamp to use for metrics that don't define it directly.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L1431">src/index.ts:1431</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="vwrite" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>vwrite</span><a href="#vwrite" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="vwrite-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">vwrite</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">path</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">timestamp</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Date</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">tags</span><span class="tsd-signature-symbol">?:</span> <a href="../interfaces/Tags.html" class="tsd-signature-type tsd-kind-interface">Tags</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#vwrite-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Send a metric to the carbon server.</p>
<p>In contrast to [[CarbonClient.write]] this doesn't return a promise, but
instead if an error occurs during sending this error will be dispatched
to any registered <code>'error'</code> even handlers.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">path</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Metric path.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">value</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>Metric value.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">timestamp</span>: <span class="tsd-signature-type">Date</span></span><div class="tsd-comment tsd-typography"><p>Metric timestamp.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">tags</span>: <a href="../interfaces/Tags.html" class="tsd-signature-type tsd-kind-interface">Tags</a></span><div class="tsd-comment tsd-typography"><p>Metric tags.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L1396">src/index.ts:1396</a></li></ul></aside></li><li class="tsd-signature tsd-anchor-link"><a id="vwrite-2" class="tsd-anchor"></a><span class="tsd-kind-call-signature">vwrite</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">path</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">tags</span><span class="tsd-signature-symbol">?:</span> <a href="../interfaces/Tags.html" class="tsd-signature-type tsd-kind-interface">Tags</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">void</span><a href="#vwrite-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Send a metric to the carbon server.</p>
<p>The current time (via <code>Date.now()</code>) will be used.</p>
<p>In contrast to [[CarbonClient.write]] this doesn't return a promise, but
instead if an error occurs during sending this error will be dispatched
to any registered <code>'error'</code> even handlers.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">path</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Metric path.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">value</span>: <span class="tsd-signature-type">number</span></span><div class="tsd-comment tsd-typography"><p>Metric value.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">tags</span>: <a href="../interfaces/Tags.html" class="tsd-signature-type tsd-kind-interface">Tags</a></span><div class="tsd-comment tsd-typography"><p>Metric tags.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span></h4><div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L1411">src/index.ts:1411</a></li></ul></aside></li></ul></section><section class="tsd-panel tsd-member"><a id="write" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><span>write</span><a href="#write" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="write-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">write</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">path</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">timestamp</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Date</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">tags</span><span class="tsd-signature-symbol">?:</span> <a href="../interfaces/Tags.html" class="tsd-signature-type tsd-kind-interface">Tags</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#write-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Send a metric to the carbon server.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">path</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">value</span>: <span class="tsd-signature-type">number</span></span></li><li><span><span class="tsd-kind-parameter">timestamp</span>: <span class="tsd-signature-type">Date</span></span></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">tags</span>: <a href="../interfaces/Tags.html" class="tsd-signature-type tsd-kind-interface">Tags</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Promise that resolves when the metric is sent.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-9" class="tsd-anchor"></a>Throws<a href="#throws-9" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>[[IllegalArgument]] if path, timestamp, a tag-name, or a tag-value is invalid.</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-10" class="tsd-anchor"></a>Throws<a href="#throws-10" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>[[NotConnected]] if not connected and [[CarbonClient.autoConnect]] is <code>false</code>.</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-11" class="tsd-anchor"></a>Throws<a href="#throws-11" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>[[SocketGone]] if socket went away during the operation.</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-12" class="tsd-anchor"></a>Throws<a href="#throws-12" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>Error</code> based on the errors that can be thrown by the underlying used NodeJS APIs.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L1223">src/index.ts:1223</a></li></ul></aside></li><li class="tsd-signature tsd-anchor-link"><a id="write-2" class="tsd-anchor"></a><span class="tsd-kind-call-signature">write</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">path</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">value</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">,</span> <span class="tsd-kind-parameter">tags</span><span class="tsd-signature-symbol">?:</span> <a href="../interfaces/Tags.html" class="tsd-signature-type tsd-kind-interface">Tags</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><a href="#write-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Send a metric to the carbon server.</p>
<p>The current time (via <code>Date.now()</code>) will be used.</p>
<p><strong>NOTE:</strong> If [[CarbonClient.sendBufferSize]] is <code>&gt; 0</code> then any error (except for
[[IllegalArgument]]) might not happen during <code>await</code> of the returned <code>Promise</code>, but
will only dispatched to any registered error handlers. See: [[CarbonClient.on]]</p>
<p>Also note that if the sent data doesn't fit into the buffer, this will issue a
send immediately and any promise rejections of that send <em>will</em> be directly returned
when <code>await</code>ing the returned <code>Promise</code>.</p>
</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">path</span>: <span class="tsd-signature-type">string</span></span></li><li><span><span class="tsd-kind-parameter">value</span>: <span class="tsd-signature-type">number</span></span></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">tags</span>: <a href="../interfaces/Tags.html" class="tsd-signature-type tsd-kind-interface">Tags</a></span></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><p>Promise that resolves when the metric is sent.</p>
<div class="tsd-comment tsd-typography"><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-13" class="tsd-anchor"></a>Throws<a href="#throws-13" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>[[IllegalArgument]] if path, a tag-name, or a tag-value is invalid.</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-14" class="tsd-anchor"></a>Throws<a href="#throws-14" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>[[NotConnected]] if not connected and [[CarbonClient.autoConnect]] is <code>false</code>.</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-15" class="tsd-anchor"></a>Throws<a href="#throws-15" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p>[[SocketGone]] if socket went away during the operation.</p>
</div><div class="tsd-tag-throws"><h4 class="tsd-anchor-link"><a id="throws-16" class="tsd-anchor"></a>Throws<a href="#throws-16" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>Error</code> based on the errors that can be thrown by the underlying used NodeJS APIs.</p>
</div></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/panzi/carbon-client/blob/main/src/index.ts#L1244">src/index.ts:1244</a></li></ul></aside></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#allowed-names-and-values"><span>Allowed <wbr/>Names and <wbr/>Values</span></a><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Constructors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Constructors</summary><div><a href="#constructor" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-512"></use></svg><span>constructor</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Properties</summary><div><a href="#address" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>address</span></a><a href="#autoconnect" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>auto<wbr/>Connect</span></a><a href="#family" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>family</span></a><a href="#port" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>port</span></a><a href="#prefix" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>prefix</span></a><a href="#retryonerror" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>retry<wbr/>On<wbr/>Error</span></a><a href="#retrytimeout" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>retry<wbr/>Timeout</span></a><a href="#sendbuffersize" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>send<wbr/>Buffer<wbr/>Size</span></a><a href="#sendinterval" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>send<wbr/>Interval</span></a><a href="#transport" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>transport</span></a><a href="#udpsendbuffersize" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>udp<wbr/>Send<wbr/>Buffer<wbr/>Size</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Accessors"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Accessors</summary><div><a href="#bufferedbytes" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-262144"></use></svg><span>buffered<wbr/>Bytes</span></a><a href="#isbuffered" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-262144"></use></svg><span>is<wbr/>Buffered</span></a><a href="#isconnected" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-262144"></use></svg><span>is<wbr/>Connected</span></a><a href="#isconnecting" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-262144"></use></svg><span>is<wbr/>Connecting</span></a><a href="#isdisconnected" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-262144"></use></svg><span>is<wbr/>Disconnected</span></a></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="section-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#batchwrite" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>batch<wbr/>Write</span></a><a href="#connect" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>connect</span></a><a href="#disconnect" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>disconnect</span></a><a href="#flush" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>flush</span></a><a href="#off" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>off</span></a><a href="#on" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>on</span></a><a href="#once" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>once</span></a><a href="#vbatchwrite" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>vbatch<wbr/>Write</span></a><a href="#vwrite" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>vwrite</span></a><a href="#write" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>write</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html">Carbon Client</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
